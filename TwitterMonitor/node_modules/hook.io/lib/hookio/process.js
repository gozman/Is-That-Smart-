var hookio = require('hook.io'),
    async  = require('async'),
    path   = require('path');

exports.process = function (options) {

  var defaults = {
    "processing-port": 6000,
    "processing-host": "127.0.0.1",
    "workers": 20
  };
  
  var self = this;

  //
  // Merge in default values
  //
  console.log('lets process some events and data', options);

  //
  // Spawn up N workers of the hook we intend to perform batch processing with
  //
  
  self.spawn(['faker','faker','faker','faker']);
  
  
  //
  // Setup a handler to listen for all events, then re-pipe them back up.
  //
  self.on('child:ready', function(){
    
    //
    // For all clients that match the query,
    // send them a request
    
  });
  
  
  //
  // As soon as the first hook is ready, begin to distribute the load
  //
  

};